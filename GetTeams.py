from selenium import webdriver
import time
from common import Wait
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.action_chains import ActionChains
Sleep_time = 2
error_count = 10

def GetTeams_names(browser):
    e_c = 0
    while(True):
        team_card_elements = browser.find_elements_by_class_name("team-card")
        print(len(team_card_elements))
        if(len(team_card_elements) == 0):
            e_c += 1
            if e_c > error_count:
                print("Some thing got wrong in Getting Teams.....")
                quit()
            Wait(Sleep_time)
            continue
        team_names = []
        for card in team_card_elements:
            try:
                team_name = card.get_attribute("data-tid")
            except:
                e_c += 1
                if e_c > error_count:
                    print("Some thing got wrong in Getting Team_name.....")
                    quit()
                Wait(Sleep_time)
                continue
            team_names.append(team_name[5:])
        break
    print(team_names)
    return team_names

def GetTeams_ElementsAndNames(browser):
    e_c = 0
    while(True):
        team_card_elements = browser.find_elements_by_class_name("team-card")
        print(len(team_card_elements))

        if(len(team_card_elements) == 0):
            e_c += 1
            if e_c > error_count:
                print("Some thing got wrong in Getting Teams.....")
                quit()
            Wait(Sleep_time)
            continue
        team_names = []
        for card in team_card_elements:
            try:
                team_name = card.get_attribute("data-tid")
            except:
                e_c += 1
                if e_c > error_count:
                    print("Some thing got wrong in Getting Team_name.....")
                    quit()
                Wait(Sleep_time)
                continue
            team_names.append(team_name[5:])
        break

    print(team_names)
    return team_card_elements,team_names


